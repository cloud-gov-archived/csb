packversion: 1
name: cg-smtp
version: 0.1.0
metadata:
  author: cloud.gov team
platforms:
  - os: linux
    arch: amd64
terraform_upgrade_path:
  - version: 1.6.2
terraform_state_provider_replacements:
  registry.opentofu.org/hashicorp/aws: "registry.terraform.io/hashicorp/aws"
terraform_binaries:
  - name: tofu
    version: 1.6.2
    source: https://github.com/opentofu/opentofu/archive/v1.6.2.zip
    url_template: https://github.com/opentofu/opentofu/releases/download/v${version}/tofu_${version}_${os}_${arch}.zip
    default: true
  - name: terraform-provider-aws
    version: 5.53.0
    source: https://github.com/terraform-providers/terraform-provider-aws/archive/v5.53.0.zip
service_definitions:
  - cg-smtp.yml
parameters: []
required_env_variables:
  - AWS_ZONE
  - TF_VAR_AWS_ACCESS_KEY_GOVCLOUD
  - TF_VAR_AWS_SECRET_KEY_GOVCLOUD
  - TF_VAR_AWS_REGION_GOVCLOUD
  - TF_VAR_AWS_ACCESS_KEY_COMMERCIAL
  - TF_VAR_AWS_SECRET_KEY_COMMERCIAL
  - TF_VAR_AWS_REGION_COMMERCIAL
env_config_mapping:
  TF_VAR_AWS_ACCESS_KEY_GOVCLOUD: aws.govcloud.access_key_id
  TF_VAR_AWS_SECRET_KEY_GOVCLOUD: aws.govcloud.secret_access_key
  TF_VAR_AWS_REGION_GOVCLOUD: aws.govcloud.region
  TF_VAR_AWS_ACCESS_KEY_COMMERCIAL: aws.commercial.access_key_id
  TF_VAR_AWS_SECRET_KEY_COMMERCIAL: aws.commercial.secret_access_key
  TF_VAR_AWS_REGION_COMMERCIAL: aws.commercial.region
  AWS_ZONE: aws.zone
